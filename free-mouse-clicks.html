<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aeconoclast's GitHub Pages Site</title>
    <meta name="description" content="A brief description of the blog">
    <meta name="keywords" content="blog, articles, news">
  <link rel="stylesheet" href="styles.css">
</head>
<h1 id="free-mouse-clicks">Free Mouse Clicks</h1>

<p>After I installed Ubuntu on the PC that I built, I found myself clicking on the mouse more often.
I didn’t know many hotkeys, and the PC didn’t register all the clicks I made with my wireless mouse.
I couldn’t use a wired mouse due to space constraints.</p>

<p>Looking for a way to automate mouse clicks, I landed on <a href="https://github.com/ReimuNotMoe/ydotool">ydotool</a>. 
<a href="https://github.com/ReimuNotMoe/ydotool">ydotool</a> allows keyboard and other hardware inputs to be automated. But it had limitations.
One of them was that the press and release of the click button were separately timed.</p>

<p>The press and release routine in <a href="https://github.com/ReimuNotMoe/ydotool">ydotool</a> was painfully slow. There would be a press, and after a delay, there would be a release. That made all mouse clicks, mouse drags. No option in <em>ydotool</em> eliminated that delay.</p>

<h2 id="issue-work">Issue, Work</h2>
<p>This <a href="https://github.com/ReimuNotMoe/ydotool/issues/199">issue</a> also talked about the same problem. I used that issue to create a pull request.</p>

<p>I decided to work on removing the delay. After looking through the code, and figuring out how it ran, I made the changes.
I added an option “-P” which did a rapid press and release.
After building those changes, I ran them myself for more than 2 months.</p>

<p>They are now part of this <a href="https://github.com/aeconoclast/ydotool/releases/tag/1.0.5">release</a>, and in this <a href="https://github.com/aeconoclast/ydotool">repository</a>.</p>

<h2 id="using-ydotool-with-the-changes">Using ydotool with the changes</h2>
<p>A few points on how to use this part of the tool are below.</p>

<ol>
  <li>Download the code (<a href="https://github.com/aeconoclast/ydotool/archive/refs/tags/1.0.5.zip">zip file</a>, or <a href="https://github.com/aeconoclast/ydotool/archive/refs/tags/1.0.5.tar.gz">tar archive</a>), build it using the instructions in the <a href="https://github.com/ReimuNotMoe/ydotool?tab=readme-ov-file#notes">Notes</a>
    <ul>
      <li>Instructions also given in <a href="https://askubuntu.com/a/1413830">this askubuntu answer</a>.</li>
    </ul>
  </li>
  <li>Run <em>ydotoold</em> daemon. This is required to create the virtual devices for processing the input.</li>
  <li>Then run ydotool client. For automated mouse clicks occurring every 2 seconds (or 2000 milliseconds) this is the command:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ydotool click -P 0xc0 -D 2000 -r 10000</code></li>
      <li>10000 in the above command is the number of clicks.</li>
    </ul>
  </li>
  <li>The daemon and the client need <em>sudo</em> permissions. Without those permissions, the tool does not work.</li>
</ol>

<p>For certain tasks, you might not want the automated clicks. I workaround this by finding the ydotool process, and sending SIGSTOP like this:
<code class="language-plaintext highlighter-rouge">sudo kill -STOP &lt;pid&gt;</code>
To continue the process, send SIGCONT:
<code class="language-plaintext highlighter-rouge">sudo kill -CONT &lt;pid&gt;</code></p>

<p>I found that 10000 clicks lasts about 6 hours. Change this number as you wish.</p>

<h2 id="background">Background</h2>

<p>When I was asked to work from home in 2020 indefinitely/as much as possible, I started working from home with whatever setup I had.
But I didn’t have to time to check if my home office setup was ergonomic. There were other concerns at that time needing my attention.
Ergonomics of my home setup was the last of my worries then.</p>

<p>Building a PC during the time spent not working from home, was a rewarding task. PCs act as a platform.
One of the tasks my PC let me do was the automation of the mouse click. There are many others, and I hope to talk about them in the future.</p>
</html>
